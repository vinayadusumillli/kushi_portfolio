{% extends 'main/base.html' %}
{% load static %}

{% block title %}News - Khushi Deshmukh{% endblock %}

{% block content %}
<section>
    <div class="section-title">
        <h2>Latest News</h2>
        <p>Stay updated with the latest news and announcements</p>
    </div>
    
    {% if news_items %}
        <div class="blog-grid">
            {% for news in news_items %}
                <a href="{% url 'news_detail' news.slug %}" class="blog-card fade-in">
                    <div class="blog-image-container">
                        {% if news.image %}
                            <img src="{{ news.image.url }}" alt="{{ news.title }}" class="blog-image">
                        {% else %}
                            <img src="{% static 'images/uploaded_image_4_1764710806801.png' %}" alt="{{ news.title }}" class="blog-image">
                        {% endif %}
                    </div>
                    <div class="blog-content">
                        <span class="blog-date">{{ news.created_at|date:"F d, Y" }}</span>
                        <h3>{{ news.title }}</h3>
                        <p class="blog-excerpt">{{ news.excerpt|default:news.content|truncatewords:20 }}</p>
                        <span class="read-more">Read More <i class="fas fa-arrow-right"></i></span>
                    </div>
                </a>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center" style="padding: 4rem 0;">
            <i class="fas fa-newspaper" style="font-size: 4rem; color: var(--primary-orange); margin-bottom: 1rem;"></i>
            <h3>No News Yet</h3>
            <p style="color: var(--text-gray); margin-bottom: 2rem;">
                Check back soon for the latest news and announcements.
            </p>
            <a href="{% url 'home' %}" class="btn btn-secondary">Back to Home</a>
        </div>
    {% endif %}
</section>

<script>
    // Fade in animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    document.querySelectorAll('.fade-in').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
</script>
{% endblock %}
